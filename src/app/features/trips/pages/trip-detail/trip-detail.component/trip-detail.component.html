<!-- src/core/trips/components/trip-detail/trip-detail.component.html -->
<div class="h-full overflow-y-auto">
  <!-- Loading state -->
  @if (isLoading()) {
  <div class="flex items-center justify-center h-full">
    <p class="text-gray-500">Cargando viaje...</p>
  </div>
  }

  <!-- Trip content -->
  @if (!isLoading() && trip()) {
  <div class="h-full flex flex-col gap-6">
    <!-- SECCIÓN 1: Header con nombre, ubicación y fechas -->
    <div class="flex items-start justify-between">
      <!-- Nombre del viaje, ciudad, país y fechas -->
      <div class="flex-1">
        <div class="flex items-baseline gap-3 mb-2">
          <h1 class="text-3xl font-medium text-gray-900 mb-2">{{ trip()?.name }}</h1>
          <span class="text-sm text-gray-500">{{ trip()?.city }}, {{ trip()?.country }}</span>
        </div>
        <p class="text-gray-600">
          {{ trip()?.start_date | date : 'dd MMM yyyy' }} -
          {{ trip()?.end_date | date : 'dd MMM yyyy' }}
        </p>
      </div>

      <!-- Botones de acción alineados a la derecha -->
      <div class="flex items-center gap-3">
        <button
          type="button"
          (click)="editTrip()"
          class="flex items-center gap-2 p-3 bg-white border border-gray-300 text-gray-700 rounded-full hover:bg-gray-50 transition-colors font-medium cursor-pointer"
          title="Editar viaje"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
            />
          </svg>
        </button>
        <button
          type="button"
          (click)="deleteTrip()"
          class="flex items-center gap-2 p-3 bg-white border border-red-300 text-red-600 rounded-full hover:bg-red-50 transition-colors font-medium cursor-pointer"
          title="Eliminar viaje"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
            />
          </svg>
        </button>
      </div>
    </div>

    <!-- SECCIÓN 2: Tres rectángulos horizontales (Participantes, Documentos, Checklist) -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Participantes -->
      <div class="bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow">
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-xs font-semibold text-gray-900 uppercase tracking-wide">Participantes</h3>
          <span class="text-xs text-gray-500">0</span>
        </div>
        <p class="text-sm text-gray-500">Invita a personas para compartir este viaje</p>
      </div>

      <!-- Documentos -->
      <div class="bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow">
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-xs font-semibold text-gray-900 uppercase tracking-wide">Documentos</h3>
          <span class="text-xs text-gray-500">0</span>
        </div>
        <p class="text-sm text-gray-500">Sube documentos importantes para el viaje</p>
      </div>

      <!-- Checklist -->
      <div class="bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow">
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-xs font-semibold text-gray-900 uppercase tracking-wide">Checklist</h3>
          <span class="text-xs text-gray-500">0/0</span>
        </div>
        <p class="text-sm text-gray-500">Organiza las tareas pendientes</p>
      </div>
    </div>

    <!-- SECCIÓN 3: Card principal con switch Itinerario/Gastos -->
    <div class="flex-1 overflow-hidden flex flex-col">
      <!-- Header con switch -->
      <div class="border-b border-gray-400 px-6 py-4">
        <div class="flex items-center gap-2">
          <!-- Switch entre Itinerario y Gastos -->
          <button
            type="button"
            [class.bg-gray-900]="activeTab() === 'itinerary'"
            [class.text-white]="activeTab() === 'itinerary'"
            [class.bg-white]="activeTab() !== 'itinerary'"
            (click)="activeTab.set('itinerary')"
            class="px-6 py-2 rounded-full text-sm font-medium shadow-sm border border-gray-100 transition-all cursor-pointer"
          >
            Itinerario
          </button>
          <button
            type="button"
            [class.bg-gray-900]="activeTab() === 'expenses'"
            [class.text-white]="activeTab() === 'expenses'"
            [class.bg-white]="activeTab() !== 'expenses'"
            (click)="activeTab.set('expenses')"
            class="px-6 py-2 rounded-full text-sm font-medium shadow-sm border border-gray-100 transition-all cursor-pointer"
          >
            Gastos
          </button>
        </div>
      </div>

      <!-- Contenido del tab activo -->
      <div class="flex-1 overflow-y-auto p-6">
        @if (activeTab() === 'itinerary') {
        <!-- Contenido de Itinerario -->
        <div class="flex flex-col items-center justify-center h-full text-center">
          <div class="max-w-md">
            <svg
              class="w-16 h-16 mx-auto mb-4 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"
              />
            </svg>
            <h3 class="text-lg font-medium text-gray-900 mb-2">Planifica tu itinerario</h3>
            <p class="text-sm text-gray-500 mb-6">
              Crea paradas, actividades y organiza cada día de tu viaje
            </p>
            <button
              type="button"
              class="px-6 py-3 bg-gray-900 text-white rounded-full hover:bg-gray-800 transition-colors font-medium cursor-pointer"
            >
              Añadir primera parada
            </button>
          </div>
        </div>
        } @if (activeTab() === 'expenses') {
        <!-- Contenido de Gastos -->
        <div class="flex flex-col items-center justify-center h-full text-center">
          <div class="max-w-md">
            <svg
              class="w-16 h-16 mx-auto mb-4 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
            <h3 class="text-lg font-medium text-gray-900 mb-2">Gestiona tus gastos</h3>
            <p class="text-sm text-gray-500 mb-6">
              Registra gastos compartidos y mantén un control del presupuesto
            </p>
            <button
              type="button"
              class="px-6 py-3 bg-gray-900 text-white rounded-full hover:bg-gray-800 transition-colors font-medium cursor-pointer"
            >
              Añadir primer gasto
            </button>
          </div>
        </div>
        }
      </div>
    </div>
  </div>
  }
</div>
