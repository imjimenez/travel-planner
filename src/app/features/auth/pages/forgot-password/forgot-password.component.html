<app-card class="w-screen md:w-auto h-screen md:h-auto">
  <div class="space-y-6 w-screen md:w-md">
    @if (!emailSent) {
    <div class="text-center space-y-2">
      <div class="w-16 h-16 rounded-xl mx-auto flex items-center justify-center">
        <div
          class="w-16 h-16 bg-linear-to-br rounded-xl mx-auto flex items-center justify-center border-3 border-emerald-600"
        >
          <i
            class="pi pi-envelope text-emerald-600"
            style="font-size: 1.5rem; font-weight: bolder"
          ></i>
        </div>
      </div>

      <h2 class="text-2xl font-bold text-gray-900">Recuperar contraseña</h2>
      <p class="text-gray-600 text-sm">
        Ingresa tu correo electrónico y te enviaremos un enlace para restablecer tu contraseña
      </p>
    </div>

    <app-forgot-password-form
      class="block"
      [loading]="loading()"
      (onSendEmail)="onSendEmail($event)"
    />
    } @else {
    <div class="text-center space-y-4">
      <div class="flex justify-center items-center w-16 h-16 bg-green-100 rounded-full mx-auto">
        <i class="pi pi-check-circle text-green-600 text-4xl"></i>
      </div>
      <h2 class="text-2xl font-bold text-gray-900">¡Correo enviado!</h2>
      <p class="text-gray-600 text-sm">
        Hemos enviado un enlace de recuperación a <strong>{{ emailSent }}</strong>
      </p>
      <p class="text-gray-600 text-sm">
        Por favor, revisa tu bandeja de entrada y sigue las instrucciones para restablecer tu
        contraseña.
      </p>
    </div>

    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
      <p class="text-sm text-gray-700">
        <strong>¿No recibiste el correo?</strong>
      </p>
      <ul class="text-sm text-gray-600 mt-2 space-y-1 list-disc list-inside">
        <li>Revisa tu carpeta de spam o correo no deseado</li>
        <li>Verifica que la dirección de correo sea correcta</li>
        <li>Espera unos minutos, puede tardar en llegar</li>
      </ul>
    </div>

    <div class="space-y-3">
      <p-button
        (click)="emailSent = null"
        styleClass="w-full py-3 rounded-lg font-medium transition-all"
        >Reenviar correo</p-button
      >
    </div>
    }
    <div class="space-y-3 pt-4 border-t border-gray-200">
      <p-button
        type="button"
        routerLink="/auth/login"
        variant="text"
        size="small"
        styleClass="inline-flex items-center gap-2 text-sm font-medium mx-auto block transition-colors"
      >
        <span class="pi pi-arrow-left"></span>
        Volver al inicio de sesión
      </p-button>
    </div>
  </div>
</app-card>
